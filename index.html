<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bulls and Cows Game</title>
    <script>
        // Your JavaScript code here
        const wordList = ["bacy"];
        let exclude = [];

        const chosenWord = wordList[Math.floor(Math.random() * wordList.length)];

        let antiRepeat = [];
        let isRepeated = false;
        let limit = 0;

        function playGame() {
            while (true) {
                exclude = [];
                antiRepeat = [];
                isRepeated = false;

                const userWord = prompt("Enter 4 Letter Word: ");

                if (userWord.length !== 4 || !/^[a-zA-Z]+$/.test(userWord)) {
                    alert("Enter a valid 4-letter word with alphabetical characters only.");
                    continue;
                }

                for (const cur of userWord) {
                    if (antiRepeat.includes(cur)) {
                        isRepeated = true;
                    }
                    antiRepeat.push(cur);
                }

                if (isRepeated) {
                    alert("Cannot use words with repeated characters");
                    continue;
                }

                let refIndex = 0;
                let bull = 0;
                let cow = 0;

                for (const cur of userWord) {
                    if (cur === chosenWord[refIndex] && !exclude.includes(cur)) {
                        bull += 1;
                    } else if (chosenWord.includes(cur) && !exclude.includes(cur)) {
                        cow += 1;
                    }

                    exclude.push(cur);
                    refIndex += 1;
                }

                alert(`${bull} bull and ${cow} cow`);

                if (bull === 4) {
                    alert("You Won The Match");
                    break;
                }

                refIndex = 0;
                limit += 1;

                if (limit > 9) {
                    alert("You Have Exceeded The Limit.....");
                    break;
                }
            }
        }
    </script>
</head>
<body>
    <h1>Bulls and Cows Game</h1>
    <button onclick="playGame()">Start Game</button>
</body>
</html>
